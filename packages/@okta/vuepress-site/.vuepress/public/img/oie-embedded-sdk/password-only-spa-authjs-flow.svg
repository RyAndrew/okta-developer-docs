<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="626px" preserveAspectRatio="none" style="width:1213px;height:626px;background:#FFFFFF;" version="1.1" viewBox="0 0 1213 626" width="1213px" zoomAndPan="magnify"><defs><filter height="300%" id="fd192nflfpsbb" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="88" x2="88" y1="88.2969" y2="542.1563"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="412" x2="412" y1="88.2969" y2="542.1563"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="803" x2="803" y1="88.2969" y2="542.1563"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1096.5" x2="1096.5" y1="88.2969" y2="542.1563"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="161" x="5" y="84.9951">Resource Owner (User)</text><ellipse cx="88.5" cy="15" fill="#F8F8F8" filter="url(#fd192nflfpsbb)" rx="8" ry="8" style="stroke:#383838;stroke-width:2.0;"/><path d="M88.5,23 L88.5,50 M75.5,31 L101.5,31 M88.5,50 L75.5,65 M88.5,50 L101.5,65 " fill="none" filter="url(#fd192nflfpsbb)" style="stroke:#383838;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="161" x="5" y="554.1514">Resource Owner (User)</text><ellipse cx="88.5" cy="567.4531" fill="#F8F8F8" filter="url(#fd192nflfpsbb)" rx="8" ry="8" style="stroke:#383838;stroke-width:2.0;"/><path d="M88.5,575.4531 L88.5,602.4531 M75.5,583.4531 L101.5,583.4531 M88.5,602.4531 L75.5,617.4531 M88.5,602.4531 L101.5,617.4531 " fill="none" filter="url(#fd192nflfpsbb)" style="stroke:#383838;stroke-width:2.0;"/><rect fill="#F8F8F8" filter="url(#fd192nflfpsbb)" height="30.2969" style="stroke:#383838;stroke-width:1.5;" width="99" x="361" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="85" x="368" y="72.9951">Client (SPA)</text><rect fill="#F8F8F8" filter="url(#fd192nflfpsbb)" height="30.2969" style="stroke:#383838;stroke-width:1.5;" width="99" x="361" y="541.1563"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="85" x="368" y="561.1514">Client (SPA)</text><rect fill="#F8F8F8" filter="url(#fd192nflfpsbb)" height="30.2969" style="stroke:#383838;stroke-width:1.5;" width="109" x="747" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95" x="754" y="72.9951">Auth JS (SDK)</text><rect fill="#F8F8F8" filter="url(#fd192nflfpsbb)" height="30.2969" style="stroke:#383838;stroke-width:1.5;" width="109" x="747" y="541.1563"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95" x="754" y="561.1514">Auth JS (SDK)</text><rect fill="#F8F8F8" filter="url(#fd192nflfpsbb)" height="30.2969" style="stroke:#383838;stroke-width:1.5;" width="210" x="989.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="196" x="996.5" y="72.9951">Authorization server (Okta)</text><rect fill="#F8F8F8" filter="url(#fd192nflfpsbb)" height="30.2969" style="stroke:#383838;stroke-width:1.5;" width="210" x="989.5" y="541.1563"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="196" x="996.5" y="561.1514">Authorization server (Okta)</text><polygon fill="#383838" points="400.5,115.4297,410.5,119.4297,400.5,123.4297,404.5,119.4297" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="88.5" x2="406.5" y1="119.4297" y2="119.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="95.5" y="114.3638">1.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="184" x="113.5" y="114.3638">Navigate to app sign-in page</text><line style="stroke:#383838;stroke-width:1.0;" x1="412.5" x2="454.5" y1="148.5625" y2="148.5625"/><line style="stroke:#383838;stroke-width:1.0;" x1="454.5" x2="454.5" y1="148.5625" y2="161.5625"/><line style="stroke:#383838;stroke-width:1.0;" x1="413.5" x2="454.5" y1="161.5625" y2="161.5625"/><polygon fill="#383838" points="423.5,157.5625,413.5,161.5625,423.5,165.5625,419.5,161.5625" style="stroke:#383838;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="419.5" y="143.4966">2.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="279" x="437.5" y="143.4966">Display sign-in page, instantiate OktaAuth()</text><polygon fill="#383838" points="400.5,186.6953,410.5,190.6953,400.5,194.6953,404.5,190.6953" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="88.5" x2="406.5" y1="190.6953" y2="190.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="13" x="95.5" y="185.6294">3.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="108" x="112.5" y="185.6294">Enter credentials</text><polygon fill="#383838" points="791.5,215.8281,801.5,219.8281,791.5,223.8281,795.5,219.8281" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="412.5" x2="797.5" y1="219.8281" y2="219.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="419.5" y="214.7622">4.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="272" x="437.5" y="214.7622">Call idx.authenticate(username,password)</text><polygon fill="#383838" points="1084.5,244.9609,1094.5,248.9609,1084.5,252.9609,1088.5,248.9609" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="803.5" x2="1090.5" y1="248.9609" y2="248.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="810.5" y="243.895">5.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="207" x="828.5" y="243.895">API request to authenticate user</text><polygon fill="#383838" points="814.5,274.0938,804.5,278.0938,814.5,282.0938,810.5,278.0938" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="808.5" x2="1095.5" y1="278.0938" y2="278.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="820.5" y="273.0278">6.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140" x="838.5" y="273.0278">Return Auth response</text><polygon fill="#383838" points="423.5,303.2266,413.5,307.2266,423.5,311.2266,419.5,307.2266" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="417.5" x2="802.5" y1="307.2266" y2="307.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="429.5" y="302.1606">7.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="245" x="447.5" y="302.1606">Return tokens and idxStatus.SUCCESS</text><polygon fill="#383838" points="99.5,332.3594,89.5,336.3594,99.5,340.3594,95.5,336.3594" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="93.5" x2="411.5" y1="336.3594" y2="336.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="105.5" y="331.2935">8.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="282" x="123.5" y="331.2935">Direct user to authenticated protected page</text><line style="stroke:#383838;stroke-width:1.0;" x1="412.5" x2="454.5" y1="365.4922" y2="365.4922"/><line style="stroke:#383838;stroke-width:1.0;" x1="454.5" x2="454.5" y1="365.4922" y2="378.4922"/><line style="stroke:#383838;stroke-width:1.0;" x1="413.5" x2="454.5" y1="378.4922" y2="378.4922"/><polygon fill="#383838" points="423.5,374.4922,413.5,378.4922,423.5,382.4922,419.5,378.4922" style="stroke:#383838;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="419.5" y="360.4263">9.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="359" x="437.5" y="360.4263">For idxStatus.SUCCESS, store tokens in browser storage</text><polygon fill="#383838" points="791.5,403.625,801.5,407.625,791.5,411.625,795.5,407.625" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="412.5" x2="797.5" y1="407.625" y2="407.625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="24" x="419.5" y="402.5591">10.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="320" x="447.5" y="402.5591">(Optional) Call token.getUserInfo() to get user info</text><polygon fill="#383838" points="1084.5,432.7578,1094.5,436.7578,1084.5,440.7578,1088.5,436.7578" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="803.5" x2="1090.5" y1="436.7578" y2="436.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="23" x="810.5" y="431.6919">11.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="242" x="837.5" y="431.6919">(Optional) API request to get user info</text><polygon fill="#383838" points="814.5,461.8906,804.5,465.8906,814.5,469.8906,810.5,465.8906" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="808.5" x2="1095.5" y1="465.8906" y2="465.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="23" x="820.5" y="460.8247">12.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="233" x="847.5" y="460.8247">(Optional) Return user info response</text><polygon fill="#383838" points="423.5,491.0234,413.5,495.0234,423.5,499.0234,419.5,495.0234" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="417.5" x2="802.5" y1="495.0234" y2="495.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="22" x="429.5" y="489.9575">13.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="170" x="455.5" y="489.9575">(Optional) Return user info</text><polygon fill="#383838" points="99.5,520.1563,89.5,524.1563,99.5,528.1563,95.5,524.1563" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="93.5" x2="411.5" y1="524.1563" y2="524.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="23" x="105.5" y="519.0903">14.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="231" x="132.5" y="519.0903">(Optional) Display required user info</text><!--MD5=[1602458893790f9ec6e21b5abba26115]
@startuml
skinparam monochrome true
actor "Resource Owner (User)" as user
participant "Client (SPA)" as client
participant "Auth JS (SDK)" as sdk
participant "Authorization server (Okta)" as okta

autonumber "<b>#."
user -> client: Navigate to app sign-in page
client -> client: Display sign-in page, instantiate OktaAuth()
user -> client: Enter credentials
client -> sdk: Call idx.authenticate(username,password)
sdk -> okta: API request to authenticate user
okta -> sdk: Return Auth response
sdk -> client: Return tokens and idxStatus.SUCCESS
client -> user: Direct user to authenticated protected page
client -> client: For idxStatus.SUCCESS, store tokens in browser storage
client -> sdk: (Optional) Call token.getUserInfo() to get user info
sdk -> okta: (Optional) API request to get user info
okta -> sdk: (Optional) Return user info response
sdk -> client: (Optional) Return user info
client -> user:  (Optional) Display required user info
@enduml

PlantUML version 1.2022.2beta1(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>